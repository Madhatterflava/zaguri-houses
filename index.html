<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Интерактивная карта домов</title>
<link rel="stylesheet"  href="css/main.css">
<link rel="stylesheet"  href="bootstrap/css/bootstrap.min.css">
<script src="bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="js/imgzoom.js"></script>

</head>

<body>
<div class="container">
    <header class="d-flex flex-wrap justify-content-center align-items-center py-3 mb-4 border-bottom">
      <a href="" class="d-flex gap-2 align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#FF9D2D" class="bi bi-house-fill" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"/>
          <path fill-rule="evenodd" d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"/>
        </svg>
        <span class="fs-4">Наш Дом</span>
      </a>
      <span class="text-center">Республика Марий Эл, Медведевский р-н, д. Загуры, ул. Дорожная</span>
    </header>
  </div>

<!-- MAP -->
<div class="map-wrapper">
  <img src="our_houses.jpg" id="main-map-img" alt="Карта домов">

  <!-- SVG с полигонами -->
  <svg class="map-svg" viewBox="0 0 1000 600" preserveAspectRatio="none">

    <polygon class="house free" data-title="Дом 1" data-info="244,22 м² · Свободен · 6 200 000 ₽" data-id="1" data-image="img/house-1.png"
    points="67,466 101,428 175,490 135,520" />

    <polygon class="house free" data-title="Дом 2" data-info="219,47 м² · Свободен · 6 200 000 ₽" data-id="2" data-image="img/house-2.png"
    points="105,432 133,400 212,457 174,487" />
    <polygon class="house free" data-title="Дом 3" data-info="219,47 м² · Свободен · 8 200 000 ₽" data-id="2" data-image="img/house-3.png"
    points="245,430 171,369 139,404 214,457" />
    <polygon class="house free" data-title="Дом 4" data-info="140.39 м² · Свободен · 8 200 000 ₽" data-id="4" data-image="img/house-4.webp"
    points="284,396 208,338 176,371 247,429" />
    <polygon class="house free" data-title="Дом 5" data-info="140.39 м² · Свободен · 8 200 000 ₽" data-id="4" data-image="img/house-5.webp"
    points="320,369 248,308 212,341 285,396" />
    <polygon class="house free" data-title="Дом 6" data-info="198.58 м² · Свободен · 8 200 000 ₽" data-id="6" data-image="img/house-6.webp"
    points="358,337 281,275 252,309 320,368" />
    <polygon class="house free" data-title="Дом 7" data-info="198.58 м² · Свободен · 8 200 000 ₽" data-id="6" data-image="img/house-6-3.webp"
    points="396,303 319,244 286,278 357,337" />
    <polygon class="house free" data-title="Дом 8" data-info="205.3 м² · Свободен · 8 200 000 ₽" data-id="8" data-image="img/house-8.png"
    points="435,272 359,213 325,248 394,303" />
    <polygon class="house free" data-title="Дом 9" data-info="205.3 м² · Свободен · 8 200 000 ₽" data-id="8" data-image="img/house-9.png"
    points="471,243 394,187 363,217 435,271" />
    <polygon class="house sold" data-title="Дом 10" data-info="140 м² · Продан · 8 200 000 ₽" data-id="10" data-image="img/house-10.png"
    points="510,211 433,154 398,190 472,242" />
    <!-- <polygon class="house booked"
      data-title="Дом 269"
      data-info="110 м² · Бронь"
      data-id="269"
      points="205,285 247,235 358,323 303,366" /> -->

    <!-- <polygon class="house sold"
      data-title="Дом 284"
      data-info="140 м² · Продан"
      data-id="284"
      points="365,177 419,128 513,187 452,238" /> -->

  </svg>

  <!-- MODAL -->
  <div class="modal-houses" id="modal-houses">
    <div class="modal-houses-content">
      <button class="close">×</button>
      <h3 id="modalTitle"></h3>
      <p id="modalInfo"></p>

      <div class="modal-actions">
        <img id="houseImage" src="" alt="Карта домов" style="border-radius: 20px;">
        <div class="d-flex flex-row justify-content-between">
          <a id="waBtn" class="btn btn-success whatsapp rounded-4">Позвонить</a>
          <a id="detailsBtn" class="btn btn-light rounded-4">Подробнее</a>
        </div>
      </div>
    </div>
  </div>


</div>

<!-- Первый дом -->
<div class="row w-100 ps-5 mt-5 justify-content-between gap-3 align-items-center"  data-house="1">
      <div class="col-md-4">
        <h2 class="featurette-heading fw-normal lh-1">Дом №1 «ГРАНД»</h2>
        <h3 class="text-body-secondary"> 244,22 м²</h3>
        <p class="lead">Этот дом - верное решение для комфортной жизни большой семьи</p>

        <ul class="list-group">
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Участок
            <span class="badge bg-primary rounded-pill">8.58 соток</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Кухня-гостиная 
            <span class="badge bg-primary rounded-pill">51.12 м²</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Спальни
            <span class="badge bg-primary rounded-pill">4шт</span>
          </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
            Санузел
            <span class="badge bg-primary rounded-pill">3шт</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Сауна
            <span class="badge bg-primary rounded-pill">1шт</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Простроная терраса
            <span class="badge bg-primary rounded-pill">1шт</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Гараж
            <span class="badge bg-primary rounded-pill">1шт</span>
          </li>
        </ul>
        <div class="text-center">
          <a id="waBtn" class="btn btn-lg w-100 btn-success whatsapp rounded-4 mt-3" href="tel:89648609988">Хочу купить</a>
        </div>
      </div>
      <div class="col-md-7">
        <div id="carouselHouse1" class="carousel slide">
          <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselHouse1" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselHouse1" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselHouse1" data-bs-slide-to="2" aria-label="Slide 3"></button>
          </div>
          <div class="carousel-inner rounded-5">
            <div class="carousel-item active">
              <img src="img/house-1.png" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src="img/house-1-1.png" class="d-block w-100" alt="...">
            </div>
            <!-- <div class="carousel-item">
              <img src="..." class="d-block w-100" alt="...">
            </div> -->
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#carouselHouse1" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Предыдущий</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#carouselHouse1" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Следующий</span>
          </button>
        </div>
      </div>

</div>

<!-- Второй и третий дома -->
<div class="row w-100 ps-5  mt-5 justify-content-between gap-3 align-items-center" data-house="2">

      <div class="col-md-4">
        <h2 class="featurette-heading fw-normal lh-1">Дом №2, №3 «ИДИЛИЯ»</h2>
        <h3 class="text-body-secondary"> 219,47 м²</h3>
        <p class="lead">
          Большая площадь дома позволяет каждому члену семьи иметь личное пространство для отдыха и занятий
        </p>

        <ul class="list-group">
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Участок
            <span class="badge bg-primary rounded-pill">8.58 соток</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Кухня-гостиная 
            <span class="badge bg-primary rounded-pill">47.07 м²</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Спальни
            <span class="badge bg-primary rounded-pill">3шт</span>
          </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
            Санузел
            <span class="badge bg-primary rounded-pill">2шт</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Гардеробная
            <span class="badge bg-primary rounded-pill">1шт</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Простроная терраса
            <span class="badge bg-primary rounded-pill">1шт</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Гараж
            <span class="badge bg-primary rounded-pill">1шт</span>
          </li>
        </ul>
        <div class="text-center">
          <a id="waBtn" class="btn btn-lg w-100 btn-success whatsapp rounded-4 mt-3" href="tel:89648609988">Хочу купить</a>
        </div>
      </div>
      <div class="col-md-7">
        <div id="carouselHouse2" class="carousel slide">
          <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselHouse2" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselHouse2" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselHouse2" data-bs-slide-to="2" aria-label="Slide 3"></button>
          </div>
          <div class="carousel-inner rounded-5">
            <div class="carousel-item active">
              <img src="img/house-2.png" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src="img/house-2-1.png" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src="img/house-2-planing.jpg" class="d-block w-100" alt="...">
            </div>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#carouselHouse2" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Предыдущий</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#carouselHouse2" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Следующий</span>
          </button>
        </div>
      
      </div>
</div>

<!-- Четвертый и пятый дома -->
<div class="row w-100 ps-5  mt-5 justify-content-between gap-3 align-items-center" data-house="4">

      <div class="col-md-4">
        <h2 class="featurette-heading fw-normal lh-1">Дом №4, №5 «СЕМЕЙНЫЙ»</h2>
        <h3 class="text-body-secondary"> 140.39 м²</h3>
        <p class="lead">
          Такой дом — идеальное решение для тех, кто ценит комфорт, практичность и возможность создать по-настоящему семейное гнездышко, где каждому будет уютно и тепло
        </p>

        <ul class="list-group">
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Участок
            <span class="badge bg-primary rounded-pill">8.56 соток</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Кухня-гостиная 
            <span class="badge bg-primary rounded-pill">43.45 м²</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Спальни
            <span class="badge bg-primary rounded-pill">3шт</span>
          </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
            Санузел
            <span class="badge bg-primary rounded-pill">2шт</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Гардеробная
            <span class="badge bg-primary rounded-pill">1шт</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Кладовая
            <span class="badge bg-primary rounded-pill">1шт</span>
          </li>
        </ul>
        <div class="text-center">
          <a id="waBtn" class="btn btn-lg w-100 btn-success whatsapp rounded-4 mt-3" href="tel:89648609988">Хочу купить</a>
        </div>
      </div>
      <div class="col-md-7">
        <div id="carouselHouse3" class="carousel slide">
          <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselHouse3" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselHouse3" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselHouse3" data-bs-slide-to="2" aria-label="Slide 3"></button>
            <button type="button" data-bs-target="#carouselHouse3" data-bs-slide-to="3" aria-label="Slide 4"></button>
            <button type="button" data-bs-target="#carouselHouse3" data-bs-slide-to="4" aria-label="Slide 5"></button>
          </div>
          <div class="carousel-inner rounded-5">
            <div class="carousel-item active">
              <img src="img/house-4.webp" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src="img/house-5.webp" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src="img/house-5-1.webp" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src="img/house-5-2.webp" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src="img/house-5-3.webp" class="d-block w-100" alt="...">
            </div>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#carouselHouse3" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Предыдущий</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#carouselHouse3" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Следующий</span>
          </button>
        </div>
      </div>

</div>

<!-- Шестой и седьмой дома -->
<div class="row w-100 ps-5  mt-5 justify-content-between gap-3 align-items-center" data-house="6">

      <div class="col-md-4">
        <h2 class="featurette-heading fw-normal lh-1">Дом №6, №7 «ЛАЙФ»</h2>
        <h3 class="text-body-secondary"> 198.58 м²</h3>
        <p class="lead">
          <strong>Функциональная планировка.</strong> Общим пространством является кухня-столовая из которой можно попасть на террасу где можно обустроить зону для барбекю
        </p>

        <ul class="list-group">
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Участок
            <span class="badge bg-primary rounded-pill">8.56 соток</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Кухня-гостиная 
            <span class="badge bg-primary rounded-pill">61.8 м²</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Спальни
            <span class="badge bg-primary rounded-pill">3шт</span>
          </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
            Санузел
            <span class="badge bg-primary rounded-pill">2шт</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Гардеробная
            <span class="badge bg-primary rounded-pill">1шт</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Кладовая
            <span class="badge bg-primary rounded-pill">1шт</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Гараж
            <span class="badge bg-primary rounded-pill">1шт</span>
          </li>
          
        </ul>
        <div class="text-center">
          <a id="waBtn" class="btn btn-lg w-100 btn-success whatsapp rounded-4 mt-3" href="tel:89648609988">Хочу купить</a>
        </div>
      </div>
      <div class="col-md-7">
        <div id="carouselHouse4" class="carousel slide">
          <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselHouse4" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselHouse4" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselHouse4" data-bs-slide-to="2" aria-label="Slide 3"></button>
            <button type="button" data-bs-target="#carouselHouse4" data-bs-slide-to="3" aria-label="Slide 4"></button>
            <button type="button" data-bs-target="#carouselHouse4" data-bs-slide-to="4" aria-label="Slide 5"></button>
          </div>
          <div class="carousel-inner rounded-5">
            <div class="carousel-item active">
              <img src="img/house-6.webp" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src="img/house-6-1.webp" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src="img/house-6-2.webp" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src="img/house-6-3.webp" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src="img/house-6-4.webp" class="d-block w-100" alt="...">
            </div>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#carouselHouse4" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Предыдущий</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#carouselHouse4" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Следующий</span>
          </button>
        </div>
      </div>

</div>

<!-- Восьмой и девятый дома -->
<div class="row w-100 ps-5  mt-5 justify-content-between gap-3 align-items-center" data-house="8">

      <div class="col-md-4">
        <h2 class="featurette-heading fw-normal lh-1">Дом №8, №9 «O2»</h2>
        <h3 class="text-body-secondary"> 205.3 м²</h3>
        <p class="lead">
          Великолепный дом, где каждая детальпродумана для вашего комфорта
        </p>

        <ul class="list-group">
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Участок
            <span class="badge bg-primary rounded-pill">8.55 соток</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Кухня-гостиная 
            <span class="badge bg-primary rounded-pill">54.4 м²</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
              Просторнаятерраса площадь
            <span class="badge bg-primary rounded-pill">100 м²</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Спальни
            <span class="badge bg-primary rounded-pill">4шт</span>
          </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
            Санузел
            <span class="badge bg-primary rounded-pill">3шт</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Гардеробная
            <span class="badge bg-primary rounded-pill">1шт</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Кладовая в котельной
            <span class="badge bg-primary rounded-pill">1шт</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Гараж
            <span class="badge bg-primary rounded-pill">1шт-2 машины</span>
          </li>
          
        </ul>
        <div class="text-center">
          <a id="waBtn" class="btn btn-lg w-100 btn-success whatsapp rounded-4 mt-3" href="tel:89648609988">Хочу купить</a>
        </div>
      </div>
      <div class="col-md-7">
        <div id="carouselHouse5" class="carousel slide">
          <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselHouse5" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselHouse5" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselHouse5" data-bs-slide-to="2" aria-label="Slide 3"></button>
            <button type="button" data-bs-target="#carouselHouse5" data-bs-slide-to="3" aria-label="Slide 4"></button>
          </div>
          <div class="carousel-inner rounded-5">
            <div class="carousel-item active">
              <img src="img/house-8.png" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src="img/house-8-1.png" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src="img/house-8-2.png" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src="img/house-8-3.png" class="d-block w-100" alt="...">
            </div>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#carouselHouse5" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Предыдущий</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#carouselHouse5" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Следующий</span>
          </button>
        </div>
      </div>

</div>


<!-- IMAGE ZOOM MODAL -->
<div class="modal fade" id="imageZoomModal" tabindex="-1">
  <div class="modal-dialog modal-fullscreen">
    <div class="modal-content bg-dark position-relative">

      <button
        type="button"
        class="btn btn-light position-absolute top-0 end-0 m-3 fs-3 rounded-circle"
        id="zoomClose"
        aria-label="Close">
        ×
      </button>

      <div class="modal-body d-flex justify-content-center align-items-center p-0">
        <img id="zoomImage" class="img-fluid" alt="">
      </div>

    </div>
  </div>
</div>




<script>
const modal = document.getElementById('modal-houses');
const titleEl = document.getElementById('modalTitle');
const infoEl = document.getElementById('modalInfo');
const waBtn = document.getElementById('waBtn');
const detailsBtn = document.getElementById('detailsBtn');
const houseImage = document.getElementById('houseImage');
let  activeHouseId = null; // ✅ ВАЖНО


document.querySelectorAll('.house').forEach(house => {
  house.addEventListener('click', e => {
    e.stopPropagation();
    activeHouseId = house.dataset.id; // ✅ ВАЖНО

    // заполняем контент
    titleEl.textContent = house.dataset.title;
    infoEl.textContent = house.dataset.info;

    waBtn.href = `tel:89648609988`;
    // detailsBtn.href = `#house-${house.dataset.id}`;
    houseImage.src = `${house.dataset.image}`

    if (window.innerWidth > 768) {
      // ПК → показываем modal по центру экрана
      modal.style.display = 'block';
      const modalBox = modal.querySelector('.modal-houses-content');

      modalBox.style.position = 'fixed';
      modalBox.style.top = '50%';
      modalBox.style.left = '50%';
      modalBox.style.transform = 'translate(-50%, -50%)';
    } else {
      // мобильная версия → bottom-sheet
      modal.style.display = 'flex';
      const modalBox = modal.querySelector('.modal-houses-content');
      modalBox.style.position = 'relative';
      modalBox.style.top = 'auto';
      modalBox.style.left = 'auto';
      modalBox.style.transform = 'none';
    }
  });
});


detailsBtn.onclick = (e) => {
  e.preventDefault();

  if (!activeHouseId) return;

  const target = document.querySelector(
    `[data-house="${activeHouseId}"]`
  );

  if (!target) return;

  closeModal();

  setTimeout(() => {
    target.scrollIntoView({
      behavior: 'smooth',
      block: 'start'
    });

    target.classList.add('house-highlight');
    setTimeout(() => {
      target.classList.remove('house-highlight');
    }, 1500);
  }, 300);
};


document.querySelector('.close').onclick = closeModal;
modal.onclick = e => e.target === modal && closeModal();
// document.addEventListener('click', closeModal);

function closeModal() {
  modal.style.display = 'none';
}
</script>


<!-- 
<style>
  .edit-handle {
    fill: #fff;
    stroke: #ff0000;
    stroke-width: 2;
    cursor: move;
  }
  #output-panel {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: rgba(0,0,0,0.8);
    color: #0f0;
    padding: 15px;
    border-radius: 8px;
    font-family: monospace;
    font-size: 12px;
    z-index: 9999;
    max-width: 400px;
    pointer-events: none;
  }
</style>

<div id="output-panel">Кликни на дом, чтобы редактировать точки</div> -->

<!-- <script>
const svg = document.querySelector('.map-svg');
const output = document.getElementById('output-panel');
let activeHouse = null;
let dragPointIndex = null;

// Функция для получения координат внутри SVG
function getSVGCoords(e) {
  const point = svg.createSVGPoint();
  point.x = e.clientX;
  point.y = e.clientY;
  const cursorPoint = point.matrixTransform(svg.getScreenCTM().inverse());
  return { x: Math.round(cursorPoint.x), y: Math.round(cursorPoint.y) };
}

// Создание точек управления
function createHandles(house) {
  // Удаляем старые точки
  document.querySelectorAll('.edit-handle').forEach(h => h.remove());
  
  const points = house.points;
  for (let i = 0; i < points.numberOfItems; i++) {
    const p = points.getItem(i);
    const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
    circle.setAttribute("cx", p.x);
    circle.setAttribute("cy", p.y);
    circle.setAttribute("r", "6");
    circle.setAttribute("class", "edit-handle");
    
    circle.addEventListener('mousedown', (e) => {
      e.stopPropagation();
      dragPointIndex = i;
      activeHouse = house;
    });
    
    svg.appendChild(circle);
  }
}

// Слушатель для выбора дома
document.querySelectorAll('.house').forEach(house => {
  house.addEventListener('mousedown', (e) => {
    if (e.shiftKey) { // Редактируем, если зажат Shift (чтобы не мешать твоему модальному окну)
      e.preventDefault();
      createHandles(house);
      updateOutput(house);
    }
  });
});

// Перетаскивание
window.addEventListener('mousemove', (e) => {
  if (dragPointIndex !== null && activeHouse) {
    const coords = getSVGCoords(e);
    const p = activeHouse.points.getItem(dragPointIndex);
    p.x = coords.x;
    p.y = coords.y;
    
    // Обновляем визуальную точку
    const handles = document.querySelectorAll('.edit-handle');
    handles[dragPointIndex].setAttribute("cx", coords.x);
    handles[dragPointIndex].setAttribute("cy", coords.y);
    
    updateOutput(activeHouse);
  }
});

window.addEventListener('mouseup', () => {
  dragPointIndex = null;
});

function updateOutput(house) {
  const pts = Array.from(house.points).map(p => `${Math.round(p.x)},${Math.round(p.y)}`).join(' ');
  output.innerHTML = `<strong>${house.dataset.title}:</strong><br>points="${pts}"`;
  console.log(`Update for ${house.dataset.title}: points="${pts}"`);
}
</script> -->

</body>
</html>
